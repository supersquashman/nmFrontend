import './polyfills.server.mjs';
import{A as g,B as y,C as A,D as Nr,E as dt,F as Qt,G as Zt,H as pt,I as Fr,J as Tr,K as Or,L as d,M as Pr,N as Rr,O as Gt,P as G,Q as Br,R as Gr,T as Ur,Z as Lr,_ as Tn,a as Ar,aa as zr,b as Sr,ba as Hr,c as kr,ca as $r,d as Ir,da as Ve,e as Ce,ea as qr,f as Bt,fa as jr,g as Me,h as De,i as Et,ia as Wr,j as Vt,k as B,l as Ee,m as Y,ma as Xr,n as Vn,o as An,p as Sn,pa as Yr,q as kn,qa as Kr,r as In,ra as Ae,s as Yt,t as K,u as I,v as Nn,w as ot,x as Kt,y as At,z as Fn}from"./chunk-56AOJT32.mjs";import{a as ht,b as Dt}from"./chunk-VVCT4QZE.mjs";var Qr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=B({type:e,selectors:[["app-navbar"]],standalone:!0,features:[G],decls:21,vars:0,consts:[[1,"navbar"],[1,"tabbedmenu"],["routerLink","/home"],["routerLink","/faq"],["routerLink","/links"],["routerLink","/staff"],["routerLink","/lsc-calculator"],["routerLink","/nm-map"],[1,"navbar-actions"]],template:function(i,o){i&1&&(g(0,"nav",0)(1,"ul",1)(2,"li")(3,"a",2),d(4,"Home"),y()(),g(5,"li")(6,"a",3),d(7,"FAQ"),y()(),g(8,"li")(9,"a",4),d(10,"Links"),y()(),g(11,"li")(12,"a",5),d(13,"Staff"),y()(),g(14,"li")(15,"a",6),d(16,"LSC Calculator"),y()(),g(17,"li")(18,"a",7),d(19,"Map"),y()()(),A(20,"div",8),y())},dependencies:[Ae,Yr]});let t=e;return t})();var Zr=(()=>{let e=class e{constructor(){this.title="nmFrontend"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=B({type:e,selectors:[["app-root"]],standalone:!0,features:[G],decls:4,vars:0,consts:[["id","Title"],["id","Body"]],template:function(i,o){i&1&&(A(0,"div",0)(1,"app-navbar"),g(2,"div",1),A(3,"router-outlet"),y())},dependencies:[Ve,Ae,Xr,Qr]});let t=e;return t})();var Jr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=B({type:e,selectors:[["app-faq"]],standalone:!0,features:[G],decls:29,vars:0,consts:[["cellspacing","0","cellpadding","8"],["align","left","valign","top"],["align","left"],["href","/play.php"],["href","/resources.php"]],template:function(i,o){i&1&&(g(0,"table",0)(1,"tr")(2,"td",1)(3,"h3",2),d(4," What is a MUD? "),y(),g(5,"p"),d(6," A MUD (Multi-User Dungeon) is the old term for a text-based online game. Today, most people call these types of games MMORPG (Massively Multi-player Online Role Playing Game). We've chosen to use the more 'old school' term to label our Naruto MUD as a MUD. "),y(),g(7,"h3",2),d(8," What is Naruto MUD? "),y(),g(9,"p"),d(10," NarutoMUD is a Naruto MUD. It is based off the anime Naruto, which is based off the manga Naruto by Kishimoto Masashi. NarutoMUD is one of the first Naruto themed MUDs to ever exist. NarutoMUD became open to players on December 1st, 2004. Some Naruto MUDs have come and gone since then, but NarutoMUD has stuck around proving that an anime themed MUD can be quality and last! "),y(),g(11,"h3",2),d(12," Does NarutoMUD cost money to play? "),y(),g(13,"p"),d(14," NarutoMUD has been and will forever be free to play! "),y(),g(15,"h3",2),d(16," How can I play? "),y(),g(17,"p"),d(18," Good question! If you want to play this fun-filled Naruto MUD, you have a couple options! You can navigate to our "),g(19,"a",3),d(20,'"Play\xA0Now!"'),y(),d(21," page or you can use your own MUD client and connect to us at http://narutofor.us port 4545! Either way will let you play! We hope to adventure with you soon! "),y(),g(22,"h3",2),d(23," If I'm new to NarutoMUD, is there any guides to help me? "),y(),g(24,"p"),d(25," Of course! This website is full of helpful resources to get you going on NarutoMUD! The "),g(26,"a",4),d(27,'"Resources"'),y(),d(28," tab is full of resources on how to play the game, including helpfile information and maps of the game! "),y()()()())}});let t=e;return t})();var ti=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=B({type:e,selectors:[["app-staff"]],standalone:!0,features:[G],decls:43,vars:0,consts:[["cellspacing","0","cellpadding","8"],["align","left","valign","top"]],template:function(i,o){i&1&&(g(0,"table",0)(1,"tr")(2,"td",1)(3,"h3"),d(4,"Special Thanks From Owner"),y(),d(5," Thanks go out to the following individuals who help us out on a daily basis. Without their support, this game would not be what it currently is. The Immortals and the players help make the MUD great. I feel like everyone, Immortals and players, make a great team for making the MUD be everything we all want it to be."),A(6,"br"),g(7,"h3"),d(8,"The Immortals"),y(),d(9," The Staff on NarutoMUD has really helped make the best out of a dream of mine. Without their passion for the MUD, NarutoMUD would have just been a crazy dream I had years ago. Thanks guys! I'd like to also make a special note to thank the following Immortals, some of which are no longer with us, for there hard work! "),A(10,"br")(11,"br"),g(12,"ul")(13,"li"),d(14," Daizaburo "),y(),g(15,"li"),d(16," Heizo "),y(),g(17,"li"),d(18," Hikaru "),y(),g(19,"li"),d(20," Hitoshi "),y(),g(21,"li"),d(22," Kibachi "),y(),g(23,"li"),d(24," Komatsu "),y(),g(25,"li"),d(26," Nakamura "),y(),g(27,"li"),d(28," Ponnampi "),y(),g(29,"li"),d(30," Raos "),y(),g(31,"li"),d(32," Seigen "),y(),g(33,"li"),d(34," Taille "),y(),g(35,"li"),d(36," Takeru "),y(),g(37,"li"),d(38," Tiak "),y(),g(39,"li"),d(40," Zetsuke "),y()(),d(41," You've all made me very proud to have had the honor of working along with you. "),A(42,"br"),y()()())}});let t=e;return t})();var ei=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=B({type:e,selectors:[["app-links"]],standalone:!0,features:[G],decls:46,vars:0,consts:[["cellspacing","0","cellpadding","8"],["align","left","valign","top"],["href","http://apps.facebook.com/narutomud_game/"],["href","http://twitter.com/NarutoMUD/"],["href","http://www.mudmagic.com/"],["href","http://www.mudconnect.com/"],["href","http://www.gameaxle.com/"],["href","http://hulu.com/"],["href","http://hulu.com/naruto"],["href","http://hulu.com/naruto-shippuden"],["href","/SCBB"],["href","http://www.biyg.org/"]],template:function(i,o){i&1&&(g(0,"table",0)(1,"tr")(2,"td",1)(3,"b")(4,"u"),d(5,"We Recommended These Sites:"),y()(),A(6,"br")(7,"br"),g(8,"a",2),d(9,"NarutoMUD's Facebook App"),y(),d(10," Play NarutoMUD from Facebook with this Facebook App! "),A(11,"br"),g(12,"a",3),d(13,"NarutoMUD's Twitter"),y(),d(14," Follow NarutoMUD's activity on Twitter!"),A(15,"br"),g(16,"a",4),d(17,"MudMagic.Com"),y(),d(18," Our host provider website: forums, polls, discussions, listings, hosting and more."),A(19,"br"),g(20,"a",5),d(21,"MUDconnector.com"),y(),d(22," A great site to find lots of quality MUDs along with voting for us to increase our rank on their listing!"),A(23,"br"),g(24,"a",6),d(25,"Portal"),y(),d(26," The preferred method of connecting to NarutoMUD"),A(27,"br"),g(28,"a",7),d(29,"Hulu"),y(),d(30," Watch "),g(31,"a",8),d(32,"Naruto"),y(),d(33," and "),g(34,"a",9),d(35,"Naruto: Shippuden"),y(),d(36," for free over at Hulu. "),A(37,"br"),g(38,"a",10),d(39," Super Cyber Battle Bots "),y(),d(40," The legendary browser game Super Cyber Battle Bots! "),A(41,"br"),g(42,"a",11),d(43," Bleached Inuyasha Galaxy "),y(),d(44," A high quality MUD you also might enjoy if you like NarutoMUD! "),A(45,"br"),y()()())}});let t=e;return t})();var ni=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=B({type:e,selectors:[["app-home"]],standalone:!0,features:[G],decls:43,vars:0,consts:[[1,"intro"],["align","left"],["href","/whatisnarutomud"],["href","/skills"],["href","/arena"],["size","5"],["href","https://discord.gg/PMyPmdkz8b"]],template:function(i,o){i&1&&(g(0,"p",0),d(1,"Welcome to the webpage of NarutoMUD, one of the first Naruto themed MUDs in existence!"),y(),g(2,"p"),A(3,"br"),d(4," We pride ourselves on serving up quality Naruto-style action with a lot of twists that will keep you entertained for hours and hours! "),A(5,"br"),y(),g(6,"h3",1),d(7," Don't know what NarutoMUD is? "),y(),g(8,"p"),d(9," Don't have any idea what this NarutoMUD thing is? Check out our "),g(10,"a",2),d(11,'"FAQ"'),y(),d(12," tab! "),y(),g(13,"h1",1),d(14,"Features of this site:"),y(),g(15,"p"),d(16," If you're already a player of NarutoMUD, you probably know what you're here for, otherwise, what sort of cool stuff can you find here? Glad you asked. "),y(),g(17,"ul")(18,"li"),d(19," Ability to view "),g(20,"a",3),d(21,"skills for all villages!"),y()(),g(22,"li"),d(23," Real time "),g(24,"a",4),d(25,"Arena rankings"),y()()(),A(26,"br"),d(27," All this and more! If you like our website, the MUD is at least 2x more fun! "),A(28,"br"),d(29," Check us out at "),g(30,"font",5)(31,"b"),d(32," narutofor.us "),y()(),d(33," port "),g(34,"font",5)(35,"b"),d(36," 4545 "),y()(),d(37," or "),g(38,"a",6),d(39,"join us on Discord to chat!"),y(),d(40,"! "),A(41,"br")(42,"br"))}});let t=e;return t})();var fi=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(I(Nn),I(In))},e.\u0275dir=Y({type:e});let t=e;return t})(),Ka=(()=>{let e=class e extends fi{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=kn(e)))(o||e)}})(),e.\u0275dir=Y({type:e,features:[ot]});let t=e;return t})(),hi=new Et("");var Qa={provide:hi,useExisting:Bt(()=>Re),multi:!0};function Za(){let t=Tn()?Tn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Ja=new Et(""),Re=(()=>{let e=class e extends fi{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Za())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(I(Nn),I(In),I(Ja,8))},e.\u0275dir=Y({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&dt("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[Gt([Qa]),ot]});let t=e;return t})();var Be=new Et(""),Ge=new Et("");function di(t){return t!=null}function pi(t){return Ur(t)?Ar(t):t}function mi(t){let e={};return t.forEach(n=>{e=n!=null?ht(ht({},e),n):e}),Object.keys(e).length===0?null:e}function gi(t,e){return e.map(n=>n(t))}function ts(t){return!t.validate}function yi(t){return t.map(e=>ts(e)?e:n=>e.validate(n))}function es(t){if(!t)return null;let e=t.filter(di);return e.length==0?null:function(n){return mi(gi(n,e))}}function vi(t){return t!=null?es(yi(t)):null}function ns(t){if(!t)return null;let e=t.filter(di);return e.length==0?null:function(n){let r=gi(n,e).map(pi);return Ir(r).pipe(kr(mi))}}function xi(t){return t!=null?ns(yi(t)):null}function ri(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _i(t){return t._rawValidators}function wi(t){return t._rawAsyncValidators}function On(t){return t?Array.isArray(t)?t:[t]:[]}function Ie(t,e){return Array.isArray(t)?t.includes(e):t===e}function ii(t,e){let n=On(e);return On(t).forEach(i=>{Ie(n,i)||n.push(i)}),n}function oi(t,e){return On(e).filter(n=>!Ie(t,n))}var Ne=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Q=class extends Ne{get formDirective(){return null}get path(){return null}},ee=class extends Ne{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Fe=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},rs={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gc=Dt(ht({},rs),{"[class.ng-submitted]":"isSubmitted"}),bi=(()=>{let e=class e extends Fe{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(I(ee,2))},e.\u0275dir=Y({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Fn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ot]});let t=e;return t})(),Ci=(()=>{let e=class e extends Fe{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(I(Q,10))},e.\u0275dir=Y({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Fn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ot]});let t=e;return t})();var Jt="VALID",Se="INVALID",Ut="PENDING",te="DISABLED";function Bn(t){return(Ue(t)?t.validators:t)||null}function is(t){return Array.isArray(t)?vi(t):t||null}function Gn(t,e){return(Ue(e)?e.asyncValidators:t)||null}function os(t){return Array.isArray(t)?xi(t):t||null}function Ue(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Mi(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Ce(1e3,"");if(!r[n])throw new Ce(1001,"")}function Di(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Ce(1002,"")})}var Lt=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jt}get invalid(){return this.status===Se}get pending(){return this.status==Ut}get disabled(){return this.status===te}get enabled(){return this.status!==te}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ii(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ii(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(oi(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(oi(e,this._rawAsyncValidators))}hasValidator(e){return Ie(this._rawValidators,e)}hasAsyncValidator(e){return Ie(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ut,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=te,this.errors=null,this._forEachChild(r=>{r.disable(Dt(ht({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Dt(ht({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jt,this._forEachChild(r=>{r.enable(Dt(ht({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Dt(ht({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jt||this.status===Ut)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?te:Jt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ut,this._hasOwnPendingAsyncValidator=!0;let n=pi(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Yt,this.statusChanges=new Yt}_calculateStatus(){return this._allControlsDisabled()?te:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ut)?Ut:this._anyControlsHaveStatus(Se)?Se:Jt}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ue(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=is(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=os(this._rawAsyncValidators)}},Te=class extends Lt{constructor(e,n,r){super(Bn(n),Gn(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Di(this,!0,e),Object.keys(e).forEach(r=>{Mi(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Pn=class extends Te{};var Un=new Et("CallSetDisabledState",{providedIn:"root",factory:()=>Le}),Le="always";function Ln(t,e){return[...e.path,t]}function ai(t,e,n=Le){zn(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ss(t,e),us(t,e),ls(t,e),as(t,e)}function si(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pe(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Oe(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function as(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function zn(t,e){let n=_i(t);e.validator!==null?t.setValidators(ri(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=wi(t);e.asyncValidator!==null?t.setAsyncValidators(ri(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Oe(e._rawValidators,i),Oe(e._rawAsyncValidators,i)}function Pe(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=_i(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=wi(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Oe(e._rawValidators,r),Oe(e._rawAsyncValidators,r),n}function ss(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ei(t,e)})}function ls(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ei(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ei(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function us(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function cs(t,e){t==null,zn(t,e)}function fs(t,e){return Pe(t,e)}function hs(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function ds(t){return Object.getPrototypeOf(t.constructor)===Ka}function ps(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ms(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Re?n=o:ds(o)?r=o:i=o}),i||r||n||null}function gs(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function li(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ui(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ke=class extends Lt{constructor(e=null,n,r){super(Bn(n),Gn(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ue(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ui(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){li(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){li(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ui(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ys=t=>t instanceof ke,vs=(()=>{let e=class e extends Q{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ln(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=kn(e)))(o||e)}})(),e.\u0275dir=Y({type:e,features:[ot]});let t=e;return t})();var Vi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Y({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Ai=new Et("");var xs={provide:Q,useExisting:Bt(()=>ze)},ze=(()=>{let e=class e extends Q{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Yt,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pe(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return ai(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){si(r.control||null,r,!1),gs(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,ps(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(si(i||null,r),ys(o)&&(ai(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);cs(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&fs(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zn(this.form,this),this._oldForm&&Pe(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(I(Be,10),I(Ge,10),I(Un,8))},e.\u0275dir=Y({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&dt("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[Vt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([xs]),ot,Vn]});let t=e;return t})(),_s={provide:Q,useExisting:Bt(()=>He)},He=(()=>{let e=class e extends vs{constructor(r,i,o){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(o)}_checkParentType(){ki(this._parent)}};e.\u0275fac=function(i){return new(i||e)(I(Q,13),I(Be,10),I(Ge,10))},e.\u0275dir=Y({type:e,selectors:[["","formGroupName",""]],inputs:{name:[Vt.None,"formGroupName","name"]},features:[Gt([_s]),ot]});let t=e;return t})(),ws={provide:Q,useExisting:Bt(()=>Si)},Si=(()=>{let e=class e extends Q{constructor(r,i,o){super(),this.name=null,this._parent=r,this._setValidators(i),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ln(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){ki(this._parent)}};e.\u0275fac=function(i){return new(i||e)(I(Q,13),I(Be,10),I(Ge,10))},e.\u0275dir=Y({type:e,selectors:[["","formArrayName",""]],inputs:{name:[Vt.None,"formArrayName","name"]},features:[Gt([ws]),ot]});let t=e;return t})();function ki(t){return!(t instanceof He)&&!(t instanceof ze)&&!(t instanceof Si)}var bs={provide:ee,useExisting:Bt(()=>Hn)},Hn=(()=>{let e=class e extends ee{set isDisabled(r){}constructor(r,i,o,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Yt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ms(this,a)}ngOnChanges(r){this._added||this._setUpControl(),hs(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Ln(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(I(Q,13),I(Be,10),I(Ge,10),I(hi,10),I(Ai,8))},e.\u0275dir=Y({type:e,selectors:[["","formControlName",""]],inputs:{name:[Vt.None,"formControlName","name"],isDisabled:[Vt.None,"disabled","isDisabled"],model:[Vt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Gt([bs]),ot,Vn]});let t=e;return t})();var Ii=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=De({});let t=e;return t})(),Rn=class extends Lt{constructor(e,n,r){super(Bn(n),Gn(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Di(this,!1,e),e.forEach((r,i)=>{Mi(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function ci(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Ni=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),a={};return ci(i)?a=i:i!==null&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Te(o,a)}record(r,i=null){let o=this._reduceControls(r);return new Pn(o,i)}control(r,i,o){let a={};return this.useNonNullable?(ci(i)?a=i:(a.validators=i,a.asyncValidators=o),new ke(r,Dt(ht({},a),{nonNullable:!0}))):new ke(r,i,o)}array(r,i,o){let a=r.map(s=>this._createControl(s));return new Rn(a,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof ke)return r;if(r instanceof Lt)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,a=r.length>2?r[2]:null;return this.control(i,o,a)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fi=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Un,useValue:r.callSetDisabledState??Le}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=De({imports:[Ii]});let t=e;return t})(),Ti=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ai,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Un,useValue:r.callSetDisabledState??Le}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=De({imports:[Ii]});let t=e;return t})();function Ms(t,e){t&1&&(g(0,"div")(1,"div",19),d(2," (Genkai) "),y()())}function Ds(t,e){t&1&&(g(0,"div")(1,"div",20),d(2," (Kagirinai) "),y()())}function Es(t,e){if(t&1){let n=Nr();g(0,"div",5)(1,"div",11)(2,"label"),d(3),Br(4,"titlecase"),y(),g(5,"div"),Kt(6,Ms,3,0,"div",12)(7,Ds,3,0,"div",12),y()(),g(8,"div",11)(9,"div",13)(10,"input",14),dt("change",function(){An(n);let i=Qt();return Sn(i.updateTotals())}),y()()(),g(11,"div",11)(12,"div",15)(13,"input",14),dt("change",function(){An(n);let i=Qt();return Sn(i.updateTotals())}),y()()(),g(14,"div",11)(15,"div",16),A(16,"input",17),y()(),g(17,"div",11)(18,"div",18),A(19,"input",17),y()()()}if(t&2){let n=e.$implicit,r=Qt();K(3),Pr("",Gr(4,23,n),": "),K(3),At("ngIf",r.genkai.get(n)&&!r.kagirinai.get(n)),K(),At("ngIf",r.kagirinai.get(n)),K(3),pt("name","base",n,""),Zt("formControlName",n),pt("id","base",n,""),K(3),pt("name","lsc",n,""),Zt("formControlName",n),pt("id","lsc",n,""),K(3),pt("name","total",n,""),Zt("formControlName",n),pt("id","total",n,""),K(3),pt("name","rmn",n,""),Zt("formControlName",n),pt("id","rmn",n,"")}}function Vs(t,e){if(t&1&&(g(0,"label",21),d(1),y()),t&2){let n=Qt();K(),Rr("Too many Genkais (",n.genkaiCount,"/",n.maxGenkais,")")}}function As(t,e){t&1&&(g(0,"label",21),d(1,"Too many Kagirinai"),y())}var Oi=(()=>{let e=class e{constructor(r){this.formBuilder=r,this.statList=["strength","intelligence","wisdom","dexterity","constitution","charisma","luck"],this.genkai=new Map([["strength",!1],["intelligence",!1],["wisdom",!1],["dexterity",!1],["constitution",!1],["charisma",!1],["luck",!1]]),this.kagirinai=new Map([["strength",!1],["intelligence",!1],["wisdom",!1],["dexterity",!1],["constitution",!1],["charisma",!1],["luck",!1]]),this.kagirinaiLevel=173,this.genkaiLevels=[10,30,45],this.maxGenkais=0,this.maxKagirinais=0,this.genkaiCount=0,this.kagirinaiCount=0}ngOnInit(){console.log("form control initialized"),this.characterInfo=this.formBuilder.group({characterLevel:1,baseStats:this.formBuilder.group({strength:[10],intelligence:[10],wisdom:[10],dexterity:[10],constitution:[10],charisma:[10],luck:[10]}),lscPoints:this.formBuilder.group({strength:[0],intelligence:[0],wisdom:[0],dexterity:[0],constitution:[0],charisma:[0],luck:[0]}),coreTotal:this.formBuilder.group({strength:[0],intelligence:[0],wisdom:[0],dexterity:[0],constitution:[0],charisma:[0],luck:[0]}),remainingPoints:this.formBuilder.group({strength:[0],intelligence:[0],wisdom:[0],dexterity:[0],constitution:[0],charisma:[0],luck:[0]})}),this.baseStats=this.characterInfo.get("baseStats"),this.lscPoints=this.characterInfo.get("lscPoints"),this.statTotals=this.characterInfo.get("coreTotal"),this.remainingPoints=this.characterInfo.get("remainingPoints"),this.updateTotals()}calcRemainingPoints(r){let i=0,o=20;return this.genkai.get(r)&&(this.genkaiCount++,this.kagirinai.get(r)?(o=30,this.kagirinaiCount++):o=25),i=o-parseInt(this.statTotals.value[r]),i}checkAbilities(){let r=parseInt(this.characterInfo.value.characterLevel);console.log(`${r} vs`),console.log(this.genkaiLevels[1]),console.log(r>this.genkaiLevels[1]),this.maxGenkais=0,r>=this.genkaiLevels[0]&&(this.maxGenkais=1),r>=this.genkaiLevels[1]&&(this.maxGenkais=2),r>=this.genkaiLevels[2]&&(this.maxGenkais=3),r>=this.kagirinaiLevel?this.maxKagirinais=1:this.maxKagirinais=0}updateTotals(){this.kagirinaiCount=0,this.genkaiCount=0,this.statTotals.patchValue({strength:parseInt(this.baseStats.value.strength)+parseInt(this.lscPoints.value.strength),intelligence:parseInt(this.baseStats.value.intelligence)+parseInt(this.lscPoints.value.intelligence),wisdom:parseInt(this.baseStats.value.wisdom)+parseInt(this.lscPoints.value.wisdom),dexterity:parseInt(this.baseStats.value.dexterity)+parseInt(this.lscPoints.value.dexterity),constitution:parseInt(this.baseStats.value.constitution)+parseInt(this.lscPoints.value.constitution),charisma:parseInt(this.baseStats.value.charisma)+parseInt(this.lscPoints.value.charisma),luck:parseInt(this.baseStats.value.luck)+parseInt(this.lscPoints.value.luck)}),this.statList.forEach(r=>{this.statTotals.value[r]>20?this.genkai.set(r,!0):this.genkai.set(r,!1),this.statTotals.value[r]>25?this.kagirinai.set(r,!0):this.kagirinai.set(r,!1),this.checkAbilities()}),this.remainingPoints.patchValue({strength:this.calcRemainingPoints("strength"),intelligence:this.calcRemainingPoints("intelligence"),wisdom:this.calcRemainingPoints("wisdom"),dexterity:this.calcRemainingPoints("dexterity"),constitution:this.calcRemainingPoints("constitution"),charisma:this.calcRemainingPoints("charisma"),luck:this.calcRemainingPoints("luck")})}resetValues(){console.log("reset button clicked"),this.baseStats.patchValue({strength:[22]})}};e.\u0275fac=function(i){return new(i||e)(I(Ni))},e.\u0275cmp=B({type:e,selectors:[["app-lsc-calculator"]],standalone:!0,features:[G],decls:25,vars:4,consts:[[3,"keydown.enter","formGroup"],["for","characterLevel"],["type","text","name","characterLevel","formControlName","characterLevel","id","characterLevel",1,"lscinput",3,"change"],[1,"divTable","minimalistBlack"],[1,"divTableHeading"],[1,"divTableRow"],[1,"divTableHead"],[1,"divTableBody"],["class","divTableRow",4,"ngFor","ngForOf"],["class","error_label",4,"ngIf"],[3,"click"],[1,"divTableCell"],[4,"ngIf"],["formGroupName","baseStats"],["type","text",1,"lscinput",3,"change","name","formControlName","id"],["formGroupName","lscPoints"],["formGroupName","coreTotal"],["type","text","readonly","",1,"lscinput","non_editdable",3,"name","formControlName","id"],["formGroupName","remainingPoints"],[1,"genkai_div"],[1,"kagirinai_div"],[1,"error_label"]],template:function(i,o){i&1&&(g(0,"form",0),dt("keydown.enter",function(s){return s.preventDefault()}),g(1,"label",1),d(2,"Character Level:\xA0"),y(),g(3,"input",2),dt("change",function(){return o.updateTotals()}),y(),g(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),d(8,"Stat"),y(),g(9,"div",6),d(10,"Base"),y(),g(11,"div",6),d(12,"LSC Points"),y(),g(13,"div",6),d(14,"Total"),y(),g(15,"div",6),d(16,"Remaining"),y()()(),g(17,"div",7),Kt(18,Es,20,25,"div",8),y()(),g(19,"div"),Kt(20,Vs,2,2,"label",9),A(21,"br"),Kt(22,As,2,0,"label",9),y(),g(23,"button",10),dt("click",function(s){return o.resetValues(),s.preventDefault()}),d(24,"Reset"),y()()),i&2&&(At("formGroup",o.characterInfo),K(18),At("ngForOf",o.statList),K(2),At("ngIf",o.genkaiCount>o.maxGenkais&&o.genkaiCount>0),K(2),At("ngIf",o.kagirinaiCount>o.maxKagirinais&&o.kagirinaiCount>0))},dependencies:[Fi,Vi,Re,bi,Ci,Ti,ze,Hn,He,Ve,zr,Hr,$r]});let t=e;return t})();var Pi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=B({type:e,selectors:[["app-trello-board"]],standalone:!0,features:[G],decls:4,vars:0,consts:[["lang","en"],[1,"trello-board-compact"],["href","{https://trello.com/b/eIm6p8b3.html}"]],template:function(i,o){i&1&&(g(0,"html",0)(1,"blockquote",1)(2,"a",2),d(3,"Trello Board"),y()()())}});let t=e;return t})();function St(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $n(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $e(t){let e,n,r;t.length!==2?(e=St,n=(s,u)=>St(t(s),u),r=(s,u)=>t(s)-u):(e=t===St||t===$n?t:Ss,n=t,r=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{let h=l+c>>>1;n(s[h],u)<0?l=h+1:c=h}while(l<c)}return l}function o(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{let h=l+c>>>1;n(s[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function a(s,u,l=0,c=s.length){let h=i(s,u,l,c-1);return h>l&&r(s[h-1],u)>-r(s[h],u)?h-1:h}return{left:i,center:a,right:o}}function Ss(){return 0}function qn(t){return t===null?NaN:+t}var Ri=$e(St),Bi=Ri.right,ks=Ri.left,Is=$e(qn).center,jn=Bi;function ne(t,e){let n,r;if(e===void 0)for(let i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var Ns=Math.sqrt(50),Fs=Math.sqrt(10),Ts=Math.sqrt(2);function qe(t,e,n){let r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Ns?10:o>=Fs?5:o>=Ts?2:1,s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?qe(t,e,n*2):[s,u,l]}function je(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[i,o,a]=r?qe(e,t,n):qe(t,e,n);if(!(o>=i))return[];let s=o-i+1,u=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)u[l]=(o-l)/-a;else for(let l=0;l<s;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(i+l)/-a;else for(let l=0;l<s;++l)u[l]=(i+l)*a;return u}function re(t,e,n){return e=+e,t=+t,n=+n,qe(t,e,n)[2]}function Wn(t,e,n){e=+e,t=+t,n=+n;let r=e<t,i=r?re(e,t,n):re(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}var Os={value:()=>{}};function Ui(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new We(n)}function We(t){this._=t}function Ps(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}We.prototype=Ui.prototype={constructor:We,on:function(t,e){var n=this._,r=Ps(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=Rs(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=Gi(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Gi(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new We(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function Rs(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Gi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Os,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ie=Ui;var Xe="http://www.w3.org/1999/xhtml",Xn={svg:"http://www.w3.org/2000/svg",xhtml:Xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Xn.hasOwnProperty(e)?{space:Xn[e],local:t}:t}function Bs(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xe&&e.documentElement.namespaceURI===Xe?e.createElement(t):e.createElementNS(n,t)}}function Gs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ye(t){var e=mt(t);return(e.local?Gs:Bs)(e)}function Us(){}function kt(t){return t==null?Us:function(){return this.querySelector(t)}}function Li(t){typeof t!="function"&&(t=kt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=t.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new T(r,this._parents)}function Yn(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ls(){return[]}function oe(t){return t==null?Ls:function(){return this.querySelectorAll(t)}}function zs(t){return function(){return Yn(t.apply(this,arguments))}}function zi(t){typeof t=="function"?t=zs(t):t=oe(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new T(r,i)}function ae(t){return function(){return this.matches(t)}}function Ke(t){return function(e){return e.matches(t)}}var Hs=Array.prototype.find;function $s(t){return function(){return Hs.call(this.children,t)}}function qs(){return this.firstElementChild}function Hi(t){return this.select(t==null?qs:$s(typeof t=="function"?t:Ke(t)))}var js=Array.prototype.filter;function Ws(){return Array.from(this.children)}function Xs(t){return function(){return js.call(this.children,t)}}function $i(t){return this.selectAll(t==null?Ws:Xs(typeof t=="function"?t:Ke(t)))}function qi(t){typeof t!="function"&&(t=ae(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new T(r,this._parents)}function Qe(t){return new Array(t.length)}function ji(){return new T(this._enter||this._groups.map(Qe),this._parents)}function se(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}se.prototype={constructor:se,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Wi(t){return function(){return t}}function Ys(t,e,n,r,i,o){for(var a=0,s,u=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new se(t,o[a]);for(;a<u;++a)(s=e[a])&&(i[a]=s)}function Ks(t,e,n,r,i,o,a){var s,u,l=new Map,c=e.length,h=o.length,p=new Array(c),v;for(s=0;s<c;++s)(u=e[s])&&(p[s]=v=a.call(u,u.__data__,s,e)+"",l.has(v)?i[s]=u:l.set(v,u));for(s=0;s<h;++s)v=a.call(t,o[s],s,o)+"",(u=l.get(v))?(r[s]=u,u.__data__=o[s],l.delete(v)):n[s]=new se(t,o[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(p[s])===u&&(i[s]=u)}function Qs(t){return t.__data__}function Xi(t,e){if(!arguments.length)return Array.from(this,Qs);var n=e?Ks:Ys,r=this._parents,i=this._groups;typeof t!="function"&&(t=Wi(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],p=h.length,v=Zs(t.call(c,c&&c.__data__,l,r)),D=v.length,w=s[l]=new Array(D),S=a[l]=new Array(D),b=u[l]=new Array(p);n(c,h,w,S,b,v,e);for(var P=0,F=0,j,N;P<D;++P)if(j=w[P]){for(P>=F&&(F=P+1);!(N=S[F])&&++F<D;);j._next=N||null}}return a=new T(a,r),a._enter=s,a._exit=u,a}function Zs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yi(){return new T(this._exit||this._groups.map(Qe),this._parents)}function Ki(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Qi(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l=n[u],c=r[u],h=l.length,p=s[u]=new Array(h),v,D=0;D<h;++D)(v=l[D]||c[D])&&(p[D]=v);for(;u<i;++u)s[u]=n[u];return new T(s,this._parents)}function Zi(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ji(t){t||(t=Js);function e(h,p){return h&&p?t(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(e)}return new T(i,this._parents).order()}function Js(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function to(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function eo(){return Array.from(this)}function no(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ro(){let t=0;for(let e of this)++t;return t}function io(){return!this.node()}function oo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&t.call(s,s.__data__,o,i);return this}function tl(t){return function(){this.removeAttribute(t)}}function el(t){return function(){this.removeAttributeNS(t.space,t.local)}}function nl(t,e){return function(){this.setAttribute(t,e)}}function rl(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function il(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ol(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ao(t,e){var n=mt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?el:tl:typeof e=="function"?n.local?ol:il:n.local?rl:nl)(n,e))}function Ze(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function al(t){return function(){this.style.removeProperty(t)}}function sl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ll(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function so(t,e,n){return arguments.length>1?this.each((e==null?al:typeof e=="function"?ll:sl)(t,e,n??"")):xt(this.node(),t)}function xt(t,e){return t.style.getPropertyValue(e)||Ze(t).getComputedStyle(t,null).getPropertyValue(e)}function ul(t){return function(){delete this[t]}}function cl(t,e){return function(){this[t]=e}}function fl(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function lo(t,e){return arguments.length>1?this.each((e==null?ul:typeof e=="function"?fl:cl)(t,e)):this.node()[t]}function uo(t){return t.trim().split(/^|\s+/)}function Kn(t){return t.classList||new co(t)}function co(t){this._node=t,this._names=uo(t.getAttribute("class")||"")}co.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function fo(t,e){for(var n=Kn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ho(t,e){for(var n=Kn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hl(t){return function(){fo(this,t)}}function dl(t){return function(){ho(this,t)}}function pl(t,e){return function(){(e.apply(this,arguments)?fo:ho)(this,t)}}function po(t,e){var n=uo(t+"");if(arguments.length<2){for(var r=Kn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?pl:e?hl:dl)(n,e))}function ml(){this.textContent=""}function gl(t){return function(){this.textContent=t}}function yl(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function mo(t){return arguments.length?this.each(t==null?ml:(typeof t=="function"?yl:gl)(t)):this.node().textContent}function vl(){this.innerHTML=""}function xl(t){return function(){this.innerHTML=t}}function _l(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function go(t){return arguments.length?this.each(t==null?vl:(typeof t=="function"?_l:xl)(t)):this.node().innerHTML}function wl(){this.nextSibling&&this.parentNode.appendChild(this)}function yo(){return this.each(wl)}function bl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vo(){return this.each(bl)}function xo(t){var e=typeof t=="function"?t:Ye(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Cl(){return null}function _o(t,e){var n=typeof t=="function"?t:Ye(t),r=e==null?Cl:typeof e=="function"?e:kt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ml(){var t=this.parentNode;t&&t.removeChild(this)}function wo(){return this.each(Ml)}function Dl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function El(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function bo(t){return this.select(t?El:Dl)}function Co(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Vl(t){return function(e){t.call(this,e,this.__data__)}}function Al(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Sl(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function kl(t,e,n){return function(){var r=this.__on,i,o=Vl(e);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Mo(t,e,n){var r=Al(t+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=e?kl:Sl,i=0;i<o;++i)this.each(s(r[i],e,n));return this}function Do(t,e,n){var r=Ze(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Il(t,e){return function(){return Do(this,t,e)}}function Nl(t,e){return function(){return Do(this,t,e.apply(this,arguments))}}function Eo(t,e){return this.each((typeof e=="function"?Nl:Il)(t,e))}function*Vo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Qn=[null];function T(t,e){this._groups=t,this._parents=e}function Ao(){return new T([[document.documentElement]],Qn)}function Fl(){return this}T.prototype=Ao.prototype={constructor:T,select:Li,selectAll:zi,selectChild:Hi,selectChildren:$i,filter:qi,data:Xi,enter:ji,exit:Yi,join:Ki,merge:Qi,selection:Fl,order:Zi,sort:Ji,call:to,nodes:eo,node:no,size:ro,empty:io,each:oo,attr:ao,style:so,property:lo,classed:po,text:mo,html:go,raise:yo,lower:vo,append:xo,insert:_o,remove:wo,clone:bo,datum:Co,on:Mo,dispatch:Eo,[Symbol.iterator]:Vo};var gt=Ao;function X(t){return typeof t=="string"?new T([[document.querySelector(t)]],[document.documentElement]):new T([[t]],Qn)}function So(t){let e;for(;e=t.sourceEvent;)t=e;return t}function yt(t,e){if(t=So(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var Je={capture:!0,passive:!1};function tn(t){t.preventDefault(),t.stopImmediatePropagation()}function Zn(t){var e=t.document.documentElement,n=X(t).on("dragstart.drag",tn,Je);"onselectstart"in e?n.on("selectstart.drag",tn,Je):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Jn(t,e){var n=t.document.documentElement,r=X(t).on("dragstart.drag",null);e&&(r.on("click.drag",tn,Je),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function en(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function tr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ce(){}var le=.7,on=1/le,zt="\\s*([+-]?\\d+)\\s*",ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tl=/^#([0-9a-f]{3,8})$/,Ol=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),Pl=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),Rl=new RegExp(`^rgba\\(${zt},${zt},${zt},${ue}\\)$`),Bl=new RegExp(`^rgba\\(${st},${st},${st},${ue}\\)$`),Gl=new RegExp(`^hsl\\(${ue},${st},${st}\\)$`),Ul=new RegExp(`^hsla\\(${ue},${st},${st},${ue}\\)$`),ko={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};en(ce,et,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Io,formatHex:Io,formatHex8:Ll,formatHsl:zl,formatRgb:No,toString:No});function Io(){return this.rgb().formatHex()}function Ll(){return this.rgb().formatHex8()}function zl(){return Bo(this).formatHsl()}function No(){return this.rgb().formatRgb()}function et(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Tl.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Fo(e):n===3?new q(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ol.exec(t))?new q(e[1],e[2],e[3],1):(e=Pl.exec(t))?new q(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Rl.exec(t))?nn(e[1],e[2],e[3],e[4]):(e=Bl.exec(t))?nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Gl.exec(t))?Po(e[1],e[2]/100,e[3]/100,1):(e=Ul.exec(t))?Po(e[1],e[2]/100,e[3]/100,e[4]):ko.hasOwnProperty(t)?Fo(ko[t]):t==="transparent"?new q(NaN,NaN,NaN,0):null}function Fo(t){return new q(t>>16&255,t>>8&255,t&255,1)}function nn(t,e,n,r){return r<=0&&(t=e=n=NaN),new q(t,e,n,r)}function Hl(t){return t instanceof ce||(t=et(t)),t?(t=t.rgb(),new q(t.r,t.g,t.b,t.opacity)):new q}function Ht(t,e,n,r){return arguments.length===1?Hl(t):new q(t,e,n,r??1)}function q(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}en(q,Ht,tr(ce,{brighter(t){return t=t==null?on:Math.pow(on,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?le:Math.pow(le,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new q(Nt(this.r),Nt(this.g),Nt(this.b),an(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:To,formatHex:To,formatHex8:$l,formatRgb:Oo,toString:Oo}));function To(){return`#${It(this.r)}${It(this.g)}${It(this.b)}`}function $l(){return`#${It(this.r)}${It(this.g)}${It(this.b)}${It((isNaN(this.opacity)?1:this.opacity)*255)}`}function Oo(){let t=an(this.opacity);return`${t===1?"rgb(":"rgba("}${Nt(this.r)}, ${Nt(this.g)}, ${Nt(this.b)}${t===1?")":`, ${t})`}`}function an(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function It(t){return t=Nt(t),(t<16?"0":"")+t.toString(16)}function Po(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new tt(t,e,n,r)}function Bo(t){if(t instanceof tt)return new tt(t.h,t.s,t.l,t.opacity);if(t instanceof ce||(t=et(t)),!t)return new tt;if(t instanceof tt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new tt(a,s,u,t.opacity)}function Go(t,e,n,r){return arguments.length===1?Bo(t):new tt(t,e,n,r??1)}function tt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}en(tt,Go,tr(ce,{brighter(t){return t=t==null?on:Math.pow(on,t),new tt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?le:Math.pow(le,t),new tt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new q(er(t>=240?t-240:t+120,i,r),er(t,i,r),er(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new tt(Ro(this.h),rn(this.s),rn(this.l),an(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=an(this.opacity);return`${t===1?"hsl(":"hsla("}${Ro(this.h)}, ${rn(this.s)*100}%, ${rn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ro(t){return t=(t||0)%360,t<0?t+360:t}function rn(t){return Math.max(0,Math.min(1,t||0))}function er(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function nr(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Uo(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return nr((n-r/e)*e,a,i,o,s)}}function Lo(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return nr((n-r/e)*e,i,o,a,s)}}var fe=t=>()=>t;function ql(t,e){return function(n){return t+n*e}}function jl(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zo(t){return(t=+t)==1?sn:function(e,n){return n-e?jl(e,n,t):fe(isNaN(e)?n:e)}}function sn(t,e){var n=e-t;return n?ql(t,n):fe(isNaN(t)?e:t)}var Ft=function t(e){var n=zo(e);function r(i,o){var a=n((i=Ht(i)).r,(o=Ht(o)).r),s=n(i.g,o.g),u=n(i.b,o.b),l=sn(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Ho(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,s;for(a=0;a<n;++a)s=Ht(e[a]),r[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return r=t(r),i=t(i),o=t(o),s.opacity=1,function(u){return s.r=r(u),s.g=i(u),s.b=o(u),s+""}}}var Wl=Ho(Uo),Xl=Ho(Lo);function $o(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function qo(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jo(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Tt(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Wo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function L(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Xo(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Tt(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ir=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rr=new RegExp(ir.source,"g");function Yl(t){return function(){return t}}function Kl(t){return function(e){return t(e)+""}}function he(t,e){var n=ir.lastIndex=rr.lastIndex=0,r,i,o,a=-1,s=[],u=[];for(t=t+"",e=e+"";(r=ir.exec(t))&&(i=rr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:L(r,i)})),n=rr.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?Kl(u[0].x):Yl(e):(e=u.length,function(l){for(var c=0,h;c<e;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function Tt(t,e){var n=typeof e,r;return e==null||n==="boolean"?fe(e):(n==="number"?L:n==="string"?(r=et(e))?(e=r,Ft):he:e instanceof et?Ft:e instanceof Date?Wo:qo(e)?$o:Array.isArray(e)?jo:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Xo:L)(t,e)}function or(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Yo=180/Math.PI,ln={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ar(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Yo,skewX:Math.atan(u)*Yo,scaleX:a,scaleY:s}}var un;function Ko(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ln:ar(e.a,e.b,e.c,e.d,e.e,e.f)}function Qo(t){return t==null?ln:(un||(un=document.createElementNS("http://www.w3.org/2000/svg","g")),un.setAttribute("transform",t),(t=un.transform.baseVal.consolidate())?(t=t.matrix,ar(t.a,t.b,t.c,t.d,t.e,t.f)):ln)}function Zo(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,h,p,v,D){if(l!==h||c!==p){var w=v.push("translate(",null,e,null,n);D.push({i:w-4,x:L(l,h)},{i:w-2,x:L(c,p)})}else(h||p)&&v.push("translate("+h+e+p+n)}function a(l,c,h,p){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),p.push({i:h.push(i(h)+"rotate(",null,r)-2,x:L(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(l,c,h,p){l!==c?p.push({i:h.push(i(h)+"skewX(",null,r)-2,x:L(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(l,c,h,p,v,D){if(l!==h||c!==p){var w=v.push(i(v)+"scale(",null,",",null,")");D.push({i:w-4,x:L(l,h)},{i:w-2,x:L(c,p)})}else(h!==1||p!==1)&&v.push(i(v)+"scale("+h+","+p+")")}return function(l,c){var h=[],p=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,h,p),a(l.rotate,c.rotate,h,p),s(l.skewX,c.skewX,h,p),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,p),l=c=null,function(v){for(var D=-1,w=p.length,S;++D<w;)h[(S=p[D]).i]=S.x(v);return h.join("")}}}var sr=Zo(Ko,"px, ","px)","deg)"),lr=Zo(Qo,", ",")",")");var Ql=1e-12;function Jo(t){return((t=Math.exp(t))+1/t)/2}function Zl(t){return((t=Math.exp(t))-1/t)/2}function Jl(t){return((t=Math.exp(2*t))-1)/(t+1)}var ur=function t(e,n,r){function i(o,a){var s=o[0],u=o[1],l=o[2],c=a[0],h=a[1],p=a[2],v=c-s,D=h-u,w=v*v+D*D,S,b;if(w<Ql)b=Math.log(p/l)/e,S=function(rt){return[s+rt*v,u+rt*D,l*Math.exp(e*rt*b)]};else{var P=Math.sqrt(w),F=(p*p-l*l+r*w)/(2*l*n*P),j=(p*p-l*l-r*w)/(2*p*n*P),N=Math.log(Math.sqrt(F*F+1)-F),W=Math.log(Math.sqrt(j*j+1)-j);b=(W-N)/e,S=function(rt){var Ct=rt*b,Rt=Jo(N),Mt=l/(n*P)*(Rt*Jl(e*Ct+N)-Zl(N));return[s+Mt*v,u+Mt*D,l*Rt/Jo(e*Ct+N)]}}return S.duration=b*1e3*e/Math.SQRT2,S}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return t(a,s,u)},i}(Math.SQRT2,2,4);var $t=0,pe=0,de=0,ea=1e3,cn,me,fn=0,Ot=0,hn=0,ge=typeof performance=="object"&&performance.now?performance:Date,na=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ve(){return Ot||(na(tu),Ot=ge.now()+hn)}function tu(){Ot=0}function ye(){this._call=this._time=this._next=null}ye.prototype=dn.prototype={constructor:ye,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ve():+n)+(e==null?0:+e),!this._next&&me!==this&&(me?me._next=this:cn=this,me=this),this._call=t,this._time=n,cr()},stop:function(){this._call&&(this._call=null,this._time=1/0,cr())}};function dn(t,e,n){var r=new ye;return r.restart(t,e,n),r}function ra(){ve(),++$t;for(var t=cn,e;t;)(e=Ot-t._time)>=0&&t._call.call(void 0,e),t=t._next;--$t}function ta(){Ot=(fn=ge.now())+hn,$t=pe=0;try{ra()}finally{$t=0,nu(),Ot=0}}function eu(){var t=ge.now(),e=t-fn;e>ea&&(hn-=e,fn=t)}function nu(){for(var t,e=cn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:cn=n);me=t,cr(r)}function cr(t){if(!$t){pe&&(pe=clearTimeout(pe));var e=t-Ot;e>24?(t<1/0&&(pe=setTimeout(ta,t-ge.now()-hn)),de&&(de=clearInterval(de))):(de||(fn=ge.now(),de=setInterval(eu,ea)),$t=1,na(ta))}}function pn(t,e,n){var r=new ye;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ru=ie("start","end","cancel","interrupt"),iu=[],aa=0,ia=1,gn=2,mn=3,oa=4,yn=5,xe=6;function _t(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;ou(t,n,{name:e,index:r,group:i,on:ru,tween:iu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:aa})}function _e(t,e){var n=R(t,e);if(n.state>aa)throw new Error("too late; already scheduled");return n}function z(t,e){var n=R(t,e);if(n.state>mn)throw new Error("too late; already running");return n}function R(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ou(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=dn(o,0,n.time);function o(l){n.state=ia,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var c,h,p,v;if(n.state!==ia)return u();for(c in r)if(v=r[c],v.name===n.name){if(v.state===mn)return pn(a);v.state===oa?(v.state=xe,v.timer.stop(),v.on.call("interrupt",t,t.__data__,v.index,v.group),delete r[c]):+c<e&&(v.state=xe,v.timer.stop(),v.on.call("cancel",t,t.__data__,v.index,v.group),delete r[c])}if(pn(function(){n.state===mn&&(n.state=oa,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=gn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===gn){for(n.state=mn,i=new Array(p=n.tween.length),c=0,h=-1;c<p;++c)(v=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=v);i.length=h+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=yn,1),h=-1,p=i.length;++h<p;)i[h].call(t,c);n.state===yn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=xe,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function wt(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>gn&&r.state<yn,r.state=xe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function sa(t){return this.each(function(){wt(this,t)})}function au(t,e){var n,r;return function(){var i=z(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function su(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=z(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function la(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=R(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?au:su)(n,t,e))}function qt(t,e,n){var r=t._id;return t.each(function(){var i=z(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return R(i,r).value[e]}}function vn(t,e){var n;return(typeof e=="number"?L:e instanceof et?Ft:(n=et(e))?(e=n,Ft):he)(t,e)}function lu(t){return function(){this.removeAttribute(t)}}function uu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cu(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function fu(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function hu(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function du(t,e,n){var r,i,o;return function(){var a,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=s+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s)))}}function ua(t,e){var n=mt(t),r=n==="transform"?lr:vn;return this.attrTween(t,typeof e=="function"?(n.local?du:hu)(n,r,qt(this,"attr."+t,e)):e==null?(n.local?uu:lu)(n):(n.local?fu:cu)(n,r,e))}function pu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function mu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function gu(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&mu(t,o)),n}return i._value=e,i}function yu(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&pu(t,o)),n}return i._value=e,i}function ca(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=mt(t);return this.tween(n,(r.local?gu:yu)(r,e))}function vu(t,e){return function(){_e(this,t).delay=+e.apply(this,arguments)}}function xu(t,e){return e=+e,function(){_e(this,t).delay=e}}function fa(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?vu:xu)(e,t)):R(this.node(),e).delay}function _u(t,e){return function(){z(this,t).duration=+e.apply(this,arguments)}}function wu(t,e){return e=+e,function(){z(this,t).duration=e}}function ha(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_u:wu)(e,t)):R(this.node(),e).duration}function bu(t,e){if(typeof e!="function")throw new Error;return function(){z(this,t).ease=e}}function da(t){var e=this._id;return arguments.length?this.each(bu(e,t)):R(this.node(),e).ease}function Cu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;z(this,t).ease=n}}function pa(t){if(typeof t!="function")throw new Error;return this.each(Cu(this._id,t))}function ma(t){typeof t!="function"&&(t=ae(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,s=r[i]=[],u,l=0;l<a;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&s.push(u);return new H(r,this._parents,this._name,this._id)}function ga(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u=e[s],l=n[s],c=u.length,h=a[s]=new Array(c),p,v=0;v<c;++v)(p=u[v]||l[v])&&(h[v]=p);for(;s<r;++s)a[s]=e[s];return new H(a,this._parents,this._name,this._id)}function Mu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Du(t,e,n){var r,i,o=Mu(e)?_e:z;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function ya(t,e){var n=this._id;return arguments.length<2?R(this.node(),n).on.on(t):this.each(Du(n,t,e))}function Eu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function va(){return this.on("end.remove",Eu(this._id))}function xa(t){var e=this._name,n=this._id;typeof t!="function"&&(t=kt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],u=s.length,l=o[a]=new Array(u),c,h,p=0;p<u;++p)(c=s[p])&&(h=t.call(c,c.__data__,p,s))&&("__data__"in c&&(h.__data__=c.__data__),l[p]=h,_t(l[p],e,n,p,l,R(c,n)));return new H(o,this._parents,e,n)}function _a(t){var e=this._name,n=this._id;typeof t!="function"&&(t=oe(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var p=t.call(c,c.__data__,h,u),v,D=R(c,n),w=0,S=p.length;w<S;++w)(v=p[w])&&_t(v,e,n,w,p,D);o.push(p),a.push(c)}return new H(o,a,e,n)}var Vu=gt.prototype.constructor;function wa(){return new Vu(this._groups,this._parents)}function Au(t,e){var n,r,i;return function(){var o=xt(this,t),a=(this.style.removeProperty(t),xt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function ba(t){return function(){this.style.removeProperty(t)}}function Su(t,e,n){var r,i=n+"",o;return function(){var a=xt(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function ku(t,e,n){var r,i,o;return function(){var a=xt(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),xt(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function Iu(t,e){var n,r,i,o="style."+e,a="end."+o,s;return function(){var u=z(this,t),l=u.on,c=u.value[o]==null?s||(s=ba(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(a,i=c),u.on=r}}function Ca(t,e,n){var r=(t+="")=="transform"?sr:vn;return e==null?this.styleTween(t,Au(t,r)).on("end.style."+t,ba(t)):typeof e=="function"?this.styleTween(t,ku(t,r,qt(this,"style."+t,e))).each(Iu(this._id,t)):this.styleTween(t,Su(t,r,e),n).on("end.style."+t,null)}function Nu(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Fu(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Nu(t,a,n)),r}return o._value=e,o}function Ma(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Fu(t,e,n??""))}function Tu(t){return function(){this.textContent=t}}function Ou(t){return function(){var e=t(this);this.textContent=e??""}}function Da(t){return this.tween("text",typeof t=="function"?Ou(qt(this,"text",t)):Tu(t==null?"":t+""))}function Pu(t){return function(e){this.textContent=t.call(this,e)}}function Ru(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Pu(i)),e}return r._value=t,r}function Ea(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ru(t))}function Va(){for(var t=this._name,e=this._id,n=xn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=R(u,e);_t(u,t,n,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new H(r,this._parents,t,n)}function Aa(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var l=z(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),i===0&&o()})}var Bu=0;function H(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Sa(t){return gt().transition(t)}function xn(){return++Bu}var vt=gt.prototype;H.prototype=Sa.prototype={constructor:H,select:xa,selectAll:_a,selectChild:vt.selectChild,selectChildren:vt.selectChildren,filter:ma,merge:ga,selection:wa,transition:Va,call:vt.call,nodes:vt.nodes,node:vt.node,size:vt.size,empty:vt.empty,each:vt.each,on:ya,attr:ua,attrTween:ca,style:Ca,styleTween:Ma,text:Da,textTween:Ea,remove:va,tween:la,delay:fa,duration:ha,ease:da,easeVarying:pa,end:Aa,[Symbol.iterator]:vt[Symbol.iterator]};function _n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Gu={time:null,delay:0,duration:250,ease:_n};function Uu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ka(t){var e,n;t instanceof H?(e=t._id,t=t._name):(e=xn(),(n=Gu).time=ve(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&_t(u,t,e,l,a,n||Uu(u,e));return new H(r,this._parents,t,e)}gt.prototype.interrupt=sa;gt.prototype.transition=ka;var{abs:Og,max:Pg,min:Rg}=Math;function Ia(t){return[+t[0],+t[1]]}function Lu(t){return[Ia(t[0]),Ia(t[1])]}var Bg={name:"x",handles:["w","e"].map(fr),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Gg={name:"y",handles:["n","s"].map(fr),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ug={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(fr),input:function(t){return t==null?null:Lu(t)},output:function(t){return t}};function fr(t){return{type:t}}function Na(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Pt(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function lt(t){return t=Pt(Math.abs(t)),t?t[1]:NaN}function Fa(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Ta(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bt(t){if(!(e=zu.exec(t)))throw new Error("invalid format: "+t);var e;return new wn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bt.prototype=wn.prototype;function wn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oa(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var hr;function Pa(t,e){var n=Pt(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(hr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Pt(t,Math.max(0,e+o-1))[0]}function dr(t,e){var n=Pt(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var pr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Na,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>dr(t*100,e),r:dr,s:Pa,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mr(t){return t}var Ra=Array.prototype.map,Ba=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Ga(t){var e=t.grouping===void 0||t.thousands===void 0?mr:Fa(Ra.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?mr:Ta(Ra.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=bt(h);var p=h.fill,v=h.align,D=h.sign,w=h.symbol,S=h.zero,b=h.width,P=h.comma,F=h.precision,j=h.trim,N=h.type;N==="n"?(P=!0,N="g"):pr[N]||(F===void 0&&(F=12),j=!0,N="g"),(S||p==="0"&&v==="=")&&(S=!0,p="0",v="=");var W=w==="$"?n:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",rt=w==="$"?r:/[%p]/.test(N)?a:"",Ct=pr[N],Rt=/[defgprs%]/.test(N);F=F===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function Mt(V){var ut=W,$=rt,f,x,m;if(N==="c")$=Ct(V)+$,V="";else{V=+V;var _=V<0||1/V<0;if(V=isNaN(V)?u:Ct(Math.abs(V),F),j&&(V=Oa(V)),_&&+V==0&&D!=="+"&&(_=!1),ut=(_?D==="("?D:s:D==="-"||D==="("?"":D)+ut,$=(N==="s"?Ba[8+hr/3]:"")+$+(_&&D==="("?")":""),Rt){for(f=-1,x=V.length;++f<x;)if(m=V.charCodeAt(f),48>m||m>57){$=(m===46?i+V.slice(f+1):V.slice(f))+$,V=V.slice(0,f);break}}}P&&!S&&(V=e(V,1/0));var M=ut.length+V.length+$.length,C=M<b?new Array(b-M+1).join(p):"";switch(P&&S&&(V=e(C+V,C.length?b-$.length:1/0),C=""),v){case"<":V=ut+V+$+C;break;case"=":V=ut+C+V+$;break;case"^":V=C.slice(0,M=C.length>>1)+ut+V+$+C.slice(M);break;default:V=C+ut+V+$;break}return o(V)}return Mt.toString=function(){return h+""},Mt}function c(h,p){var v=l((h=bt(h),h.type="f",h)),D=Math.max(-8,Math.min(8,Math.floor(lt(p)/3)))*3,w=Math.pow(10,-D),S=Ba[8+D/3];return function(b){return v(w*b)+S}}return{format:l,formatPrefix:c}}var bn,Cn,Mn;gr({thousands:",",grouping:[3],currency:["$",""]});function gr(t){return bn=Ga(t),Cn=bn.format,Mn=bn.formatPrefix,bn}function yr(t){return Math.max(0,-lt(Math.abs(t)))}function vr(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lt(e)/3)))*3-lt(Math.abs(t)))}function xr(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lt(e)-lt(t))+1}function Ua(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _r(t){return function(){return t}}function wr(t){return+t}var La=[0,1];function jt(t){return t}function br(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_r(isNaN(e)?NaN:.5)}function Hu(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $u(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=br(i,r),o=n(a,o)):(r=br(r,i),o=n(o,a)),function(s){return o(r(s))}}function qu(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=br(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var u=jn(t,s,1,r)-1;return o[u](i[u](s))}}function za(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ju(){var t=La,e=La,n=Tt,r,i,o,a=jt,s,u,l;function c(){var p=Math.min(t.length,e.length);return a!==jt&&(a=Hu(t[0],t[p-1])),s=p>2?qu:$u,u=l=null,h}function h(p){return p==null||isNaN(p=+p)?o:(u||(u=s(t.map(r),e,n)))(r(a(p)))}return h.invert=function(p){return a(i((l||(l=s(e,t.map(r),L)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,wr),c()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),n=or,c()},h.clamp=function(p){return arguments.length?(a=p?!0:jt,c()):a!==jt},h.interpolate=function(p){return arguments.length?(n=p,c()):n},h.unknown=function(p){return arguments.length?(o=p,h):o},function(p,v){return r=p,i=v,c()}}function Cr(){return ju()(jt,jt)}function Mr(t,e,n,r){var i=Wn(t,e,n),o;switch(r=bt(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=vr(i,a))&&(r.precision=o),Mn(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=xr(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=yr(i))&&(r.precision=o-(r.type==="%")*2);break}}return Cn(r)}function Wu(t){var e=t.domain;return t.ticks=function(n){var r=e();return je(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Mr(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=re(a,s,n),l===u)return r[i]=a,r[o]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function Wt(){var t=Cr();return t.copy=function(){return za(t,Wt())},Ua.apply(t,arguments),Wu(t)}var we=t=>()=>t;function Dr(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function nt(t,e,n){this.k=t,this.x=e,this.y=n}nt.prototype={constructor:nt,scale:function(t){return t===1?this:new nt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new nt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var be=new nt(1,0,0);Er.prototype=nt.prototype;function Er(t){for(;!t.__zoom;)if(!(t=t.parentNode))return be;return t.__zoom}function Dn(t){t.stopImmediatePropagation()}function Xt(t){t.preventDefault(),t.stopImmediatePropagation()}function Xu(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Yu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Ha(){return this.__zoom||be}function Ku(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Qu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zu(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Vr(){var t=Xu,e=Yu,n=Zu,r=Ku,i=Qu,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=ur,l=ie("start","zoom","end"),c,h,p,v=500,D=150,w=0,S=10;function b(f){f.property("__zoom",Ha).on("wheel.zoom",Ct,{passive:!1}).on("mousedown.zoom",Rt).on("dblclick.zoom",Mt).filter(i).on("touchstart.zoom",V).on("touchmove.zoom",ut).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(f,x,m,_){var M=f.selection?f.selection():f;M.property("__zoom",Ha),f!==M?N(f,x,m,_):M.interrupt().each(function(){W(this,arguments).event(_).start().zoom(null,typeof x=="function"?x.apply(this,arguments):x).end()})},b.scaleBy=function(f,x,m,_){b.scaleTo(f,function(){var M=this.__zoom.k,C=typeof x=="function"?x.apply(this,arguments):x;return M*C},m,_)},b.scaleTo=function(f,x,m,_){b.transform(f,function(){var M=e.apply(this,arguments),C=this.__zoom,E=m==null?j(M):typeof m=="function"?m.apply(this,arguments):m,k=C.invert(E),O=typeof x=="function"?x.apply(this,arguments):x;return n(F(P(C,O),E,k),M,a)},m,_)},b.translateBy=function(f,x,m,_){b.transform(f,function(){return n(this.__zoom.translate(typeof x=="function"?x.apply(this,arguments):x,typeof m=="function"?m.apply(this,arguments):m),e.apply(this,arguments),a)},null,_)},b.translateTo=function(f,x,m,_,M){b.transform(f,function(){var C=e.apply(this,arguments),E=this.__zoom,k=_==null?j(C):typeof _=="function"?_.apply(this,arguments):_;return n(be.translate(k[0],k[1]).scale(E.k).translate(typeof x=="function"?-x.apply(this,arguments):-x,typeof m=="function"?-m.apply(this,arguments):-m),C,a)},_,M)};function P(f,x){return x=Math.max(o[0],Math.min(o[1],x)),x===f.k?f:new nt(x,f.x,f.y)}function F(f,x,m){var _=x[0]-m[0]*f.k,M=x[1]-m[1]*f.k;return _===f.x&&M===f.y?f:new nt(f.k,_,M)}function j(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function N(f,x,m,_){f.on("start.zoom",function(){W(this,arguments).event(_).start()}).on("interrupt.zoom end.zoom",function(){W(this,arguments).event(_).end()}).tween("zoom",function(){var M=this,C=arguments,E=W(M,C).event(_),k=e.apply(M,C),O=m==null?j(k):typeof m=="function"?m.apply(M,C):m,it=Math.max(k[1][0]-k[0][0],k[1][1]-k[0][1]),U=M.__zoom,Z=typeof x=="function"?x.apply(M,C):x,ct=u(U.invert(O).concat(it/U.k),Z.invert(O).concat(it/Z.k));return function(J){if(J===1)J=Z;else{var ft=ct(J),En=it/ft[2];J=new nt(En,O[0]-ft[0]*En,O[1]-ft[1]*En)}E.zoom(null,J)}})}function W(f,x,m){return!m&&f.__zooming||new rt(f,x)}function rt(f,x){this.that=f,this.args=x,this.active=0,this.sourceEvent=null,this.extent=e.apply(f,x),this.taps=0}rt.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,x){return this.mouse&&f!=="mouse"&&(this.mouse[1]=x.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=x.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=x.invert(this.touch1[0])),this.that.__zoom=x,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var x=X(this.that).datum();l.call(f,this.that,new Dr(f,{sourceEvent:this.sourceEvent,target:b,type:f,transform:this.that.__zoom,dispatch:l}),x)}};function Ct(f,...x){if(!t.apply(this,arguments))return;var m=W(this,x).event(f),_=this.__zoom,M=Math.max(o[0],Math.min(o[1],_.k*Math.pow(2,r.apply(this,arguments)))),C=yt(f);if(m.wheel)(m.mouse[0][0]!==C[0]||m.mouse[0][1]!==C[1])&&(m.mouse[1]=_.invert(m.mouse[0]=C)),clearTimeout(m.wheel);else{if(_.k===M)return;m.mouse=[C,_.invert(C)],wt(this),m.start()}Xt(f),m.wheel=setTimeout(E,D),m.zoom("mouse",n(F(P(_,M),m.mouse[0],m.mouse[1]),m.extent,a));function E(){m.wheel=null,m.end()}}function Rt(f,...x){if(p||!t.apply(this,arguments))return;var m=f.currentTarget,_=W(this,x,!0).event(f),M=X(f.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",it,!0),C=yt(f,m),E=f.clientX,k=f.clientY;Zn(f.view),Dn(f),_.mouse=[C,this.__zoom.invert(C)],wt(this),_.start();function O(U){if(Xt(U),!_.moved){var Z=U.clientX-E,ct=U.clientY-k;_.moved=Z*Z+ct*ct>w}_.event(U).zoom("mouse",n(F(_.that.__zoom,_.mouse[0]=yt(U,m),_.mouse[1]),_.extent,a))}function it(U){M.on("mousemove.zoom mouseup.zoom",null),Jn(U.view,_.moved),Xt(U),_.event(U).end()}}function Mt(f,...x){if(t.apply(this,arguments)){var m=this.__zoom,_=yt(f.changedTouches?f.changedTouches[0]:f,this),M=m.invert(_),C=m.k*(f.shiftKey?.5:2),E=n(F(P(m,C),_,M),e.apply(this,x),a);Xt(f),s>0?X(this).transition().duration(s).call(N,E,_,f):X(this).call(b.transform,E,_,f)}}function V(f,...x){if(t.apply(this,arguments)){var m=f.touches,_=m.length,M=W(this,x,f.changedTouches.length===_).event(f),C,E,k,O;for(Dn(f),E=0;E<_;++E)k=m[E],O=yt(k,this),O=[O,this.__zoom.invert(O),k.identifier],M.touch0?!M.touch1&&M.touch0[2]!==O[2]&&(M.touch1=O,M.taps=0):(M.touch0=O,C=!0,M.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(M.taps<2&&(h=O[0],c=setTimeout(function(){c=null},v)),wt(this),M.start())}}function ut(f,...x){if(this.__zooming){var m=W(this,x).event(f),_=f.changedTouches,M=_.length,C,E,k,O;for(Xt(f),C=0;C<M;++C)E=_[C],k=yt(E,this),m.touch0&&m.touch0[2]===E.identifier?m.touch0[0]=k:m.touch1&&m.touch1[2]===E.identifier&&(m.touch1[0]=k);if(E=m.that.__zoom,m.touch1){var it=m.touch0[0],U=m.touch0[1],Z=m.touch1[0],ct=m.touch1[1],J=(J=Z[0]-it[0])*J+(J=Z[1]-it[1])*J,ft=(ft=ct[0]-U[0])*ft+(ft=ct[1]-U[1])*ft;E=P(E,Math.sqrt(J/ft)),k=[(it[0]+Z[0])/2,(it[1]+Z[1])/2],O=[(U[0]+ct[0])/2,(U[1]+ct[1])/2]}else if(m.touch0)k=m.touch0[0],O=m.touch0[1];else return;m.zoom("touch",n(F(E,k,O),m.extent,a))}}function $(f,...x){if(this.__zooming){var m=W(this,x).event(f),_=f.changedTouches,M=_.length,C,E;for(Dn(f),p&&clearTimeout(p),p=setTimeout(function(){p=null},v),C=0;C<M;++C)E=_[C],m.touch0&&m.touch0[2]===E.identifier?delete m.touch0:m.touch1&&m.touch1[2]===E.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2&&(E=yt(E,this),Math.hypot(h[0]-E[0],h[1]-E[1])<S)){var k=X(this).on("dblclick.zoom");k&&k.apply(this,arguments)}}}return b.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:we(+f),b):r},b.filter=function(f){return arguments.length?(t=typeof f=="function"?f:we(!!f),b):t},b.touchable=function(f){return arguments.length?(i=typeof f=="function"?f:we(!!f),b):i},b.extent=function(f){return arguments.length?(e=typeof f=="function"?f:we([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),b):e},b.scaleExtent=function(f){return arguments.length?(o[0]=+f[0],o[1]=+f[1],b):[o[0],o[1]]},b.translateExtent=function(f){return arguments.length?(a[0][0]=+f[0][0],a[1][0]=+f[1][0],a[0][1]=+f[0][1],a[1][1]=+f[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(f){return arguments.length?(n=f,b):n},b.duration=function(f){return arguments.length?(s=+f,b):s},b.interpolate=function(f){return arguments.length?(u=f,b):u},b.on=function(){var f=l.on.apply(l,arguments);return f===l?b:f},b.clickDistance=function(f){return arguments.length?(w=(f=+f)*f,b):Math.sqrt(w)},b.tapDistance=function(f){return arguments.length?(S=+f,b):S},b}var $a=(()=>{let e=class e{constructor(){this.rooms=[{id:1,name:"The Ninja Academy Entrance",x:0,y:2,exits:{north:2},description:"A giant teardrop of a house sits here boldly"},{id:2,name:"Path Through the Forst",x:0,y:1,exits:{south:1,north:3},description:"Just a room"},{id:3,name:"Eastern Edge of the Forest",x:0,y:0,exits:{south:2,southeast:4},description:"Just a room"},{id:4,name:"Deep Forestry",x:1,y:1,exits:{northwest:3,east:5},description:"Just a room"}]}getRooms(){return Sr(this.rooms)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=Me({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ec=["mapContainer"],qa=(()=>{let e=class e{constructor(r){this.nmMapService=r,this.tooltip=X("body").append("div").attr("class","tooltip").style("position","absolute").style("visibility","hidden").style("background-color","white").style("border","1px solid black").style("padding","5px")}ngOnInit(){this.nmMapService.getRooms().subscribe(r=>{this.createMap(r)})}createMap(r){let i=this.mapContainer.nativeElement,o=X(i).append("svg").attr("width",600).attr("height",600),a=o.append("g"),s=Vr().scaleExtent([.5,5]).on("zoom",w=>{a.attr("transform",w.transform)});o.call(s);let u={top:20,right:20,bottom:20,left:20},l=600-u.left-u.right,c=600-u.top-u.bottom,h=ne(r,w=>w.x),p=ne(r,w=>w.y),v=Wt().domain(h).range([u.left,l-u.right]),D=Wt().domain(p).range([u.top,c-u.bottom]);r.forEach(w=>{Object.keys(w.exits).forEach(S=>{let b=r.find(P=>P.id===w.exits[S]);b&&a.append("line").attr("x1",v(w.x)).attr("y1",D(w.y)).attr("x2",v(b.x)).attr("y2",D(b.y)).attr("stroke","gray").attr("stroke-width",2)})}),a.selectAll("circle").data(r).enter().append("circle").attr("cx",w=>v(w.x)).attr("cy",w=>D(w.y)).attr("r",20).attr("fill","lightblue").attr("stroke","steelblue").attr("stroke-width",2).on("mouseover",(w,S)=>this.showTooltip(w,S)).on("mouseout",this.hideTooltip).on("click",(w,S)=>this.onRoomClick(S)),a.selectAll("text").data(r).enter().append("text").attr("x",w=>v(w.x)-10).attr("y",w=>D(w.y)-25).text(w=>w.name)}showTooltip(r,i){this.tooltip.html(`Room: ${i.name}`).style("visibility","visible").style("top",`${r.pageY-10}px`).style("left",`${r.pageX+10}px`)}hideTooltip(){this.tooltip.style("visibility","hidden")}onRoomClick(r){alert(`You clicked on room: ${r.name} 
 ${r?.description}`)}};e.\u0275fac=function(i){return new(i||e)(I($a))},e.\u0275cmp=B({type:e,selectors:[["app-nm-map"]],viewQuery:function(i,o){if(i&1&&Fr(ec,7),i&2){let a;Tr(a=Or())&&(o.mapContainer=a.first)}},standalone:!0,features:[G],decls:2,vars:0,consts:[["mapContainer",""]],template:function(i,o){i&1&&A(0,"div",null,0)}});let t=e;return t})();var ja=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ni},{path:"faq",component:Jr},{path:"links",component:ei},{path:"staff",component:ti},{path:"lsc-calculator",component:Oi},{path:"trello-board",component:Pi},{path:"nm-map",component:qa}];var Wa={providers:[Kr(ja),jr()]};var nc={providers:[Wr()]},Xa=Lr(Wa,nc);var rc=()=>qr(Zr,Xa),fv=rc;export{fv as a};
